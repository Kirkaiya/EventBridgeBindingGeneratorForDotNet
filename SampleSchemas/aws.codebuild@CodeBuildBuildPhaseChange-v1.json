{
  "openapi": "3.0.0",
  "info": {
    "version": "1.0.0",
    "title": "CodeBuildBuildPhaseChange"
  },
  "paths": {},
  "components": {
    "schemas": {
      "AWSEvent": {
        "type": "object",
        "required": [ "detail-type", "resources", "detail", "id", "source", "time", "region", "version", "account" ],
        "x-amazon-events-detail-type": "CodeBuild Build Phase Change",
        "x-amazon-events-source": "aws.codebuild",
        "properties": {
          "detail": { "$ref": "#/components/schemas/CodeBuildBuildPhaseChange" },
          "account": { "type": "string" },
          "detail-type": { "type": "string" },
          "id": { "type": "string" },
          "region": { "type": "string" },
          "resources": {
            "type": "array",
            "items": { "type": "string" }
          },
          "source": { "type": "string" },
          "time": {
            "type": "string",
            "format": "date-time"
          },
          "version": { "type": "string" }
        }
      },
      "CodeBuildBuildPhaseChange": {
        "type": "object",
        "required": [ "completed-phase", "project-name", "build-id", "additional-information", "completed-phase-context", "completed-phase-duration-seconds", "completed-phase-status", "version", "completed-phase-start", "completed-phase-end" ],
        "properties": {
          "additional-information": { "$ref": "#/components/schemas/Additional-information" },
          "build-id": { "type": "string" },
          "completed-phase": { "type": "string" },
          "completed-phase-context": { "type": "string" },
          "completed-phase-duration-seconds": {
            "type": "number",
            "format": "double"
          },
          "completed-phase-end": { "type": "string" },
          "completed-phase-start": { "type": "string" },
          "completed-phase-status": { "type": "string" },
          "project-name": { "type": "string" },
          "version": { "type": "string" }
        }
      },
      "Additional-information": {
        "type": "object",
        "required": [ "cache", "timeout-in-minutes", "build-complete", "build-start-time", "initiator", "source", "artifact", "vpc-config", "environment", "network-interface", "logs", "phases", "queued-timeout-in-minutes" ],
        "properties": {
          "artifact": { "$ref": "#/components/schemas/Artifact" },
          "cache": { "$ref": "#/components/schemas/Cache" },
          "environment": { "$ref": "#/components/schemas/Environment" },
          "logs": { "$ref": "#/components/schemas/Logs" },
          "network-interface": { "$ref": "#/components/schemas/Network-interface" },
          "source": { "$ref": "#/components/schemas/Source" },
          "vpc-config": { "$ref": "#/components/schemas/Vpc-config" },
          "build-complete": { "type": "boolean" },
          "build-start-time": { "type": "string" },
          "initiator": { "type": "string" },
          "phases": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Additional-informationItem" }
          },
          "queued-timeout-in-minutes": {
            "type": "number",
            "format": "double"
          },
          "source-version": { "type": "string" },
          "timeout-in-minutes": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "Artifact": {
        "type": "object",
        "required": [ "location" ],
        "properties": {
          "location": { "type": "string" },
          "md5sum": { "type": "string" },
          "sha256sum": { "type": "string" }
        }
      },
      "Cache": {
        "type": "object",
        "required": [ "type" ],
        "properties": {
          "location": { "type": "string" },
          "type": { "type": "string" }
        }
      },
      "Environment": {
        "type": "object",
        "required": [ "image", "privileged-mode", "image-pull-credentials-type", "compute-type", "type", "environment-variables" ],
        "properties": {
          "compute-type": { "type": "string" },
          "environment-variables": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnvironmentItem" }
          },
          "image": { "type": "string" },
          "image-pull-credentials-type": { "type": "string" },
          "privileged-mode": { "type": "boolean" },
          "type": { "type": "string" }
        }
      },
      "Logs": {
        "type": "object",
        "required": [ "group-name", "stream-name", "deep-link" ],
        "properties": {
          "deep-link": { "type": "string" },
          "group-name": { "type": "string" },
          "stream-name": { "type": "string" }
        }
      },
      "Network-interface": {
        "type": "object",
        "properties": {
          "eni-id": { "type": "string" },
          "subnet-id": { "type": "string" }
        }
      },
      "Source": {
        "type": "object",
        "required": [ "type" ],
        "properties": {
          "auth": { "$ref": "#/components/schemas/Auth" },
          "buildspec": { "type": "string" },
          "location": { "type": "string" },
          "type": { "type": "string" }
        }
      },
      "Vpc-config": {
        "type": "object",
        "required": [ "security-group-ids", "subnets", "vpc-id" ],
        "properties": {
          "security-group-ids": {
            "type": "array",
            "items": {
              "type": "string",
              "nullable": true
            }
          },
          "subnets": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Vpc-configItem" }
          },
          "vpc-id": { "type": "string" }
        }
      },
      "Additional-informationItem": {
        "type": "object",
        "required": [ "start-time", "phase-type" ],
        "properties": {
          "duration-in-seconds": {
            "type": "number",
            "format": "double"
          },
          "end-time": { "type": "string" },
          "phase-context": {
            "type": "array",
            "items": {
              "type": "string",
              "nullable": true
            }
          },
          "phase-status": { "type": "string" },
          "phase-type": { "type": "string" },
          "start-time": { "type": "string" }
        }
      },
      "Vpc-configItem": {
        "type": "object",
        "required": [ "build-fleet-az", "customer-az", "subnet-id" ],
        "properties": {
          "build-fleet-az": { "type": "string" },
          "customer-az": { "type": "string" },
          "subnet-id": { "type": "string" }
        }
      },
      "EnvironmentItem": {
        "type": "object",
        "nullable": true,
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "value": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "Auth": {
        "type": "object",
        "properties": { "type": { "type": "string" } }
      }
    }
  }
} 